# This is the central control panel for DR failover.
# To fail over a group of VMs, create the patch file in patches directory and uncomment the corresponding patch here.
apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component

patches:
  # Default state: ensure everything is off.
  - path: patches/power-off.yaml
    target:
      kind: VirtualMachine
      group: kubevirt.io

  # --- FAILOVER GROUPS (Activate by uncommenting) ---

  # - path: patches/power-on.yaml
  #   target:
  #     kind: VirtualMachine
  #     group: kubevirt.io
  #     labelSelector: "app-tier=database"

  # - path: patches/power-on.yaml
  #   target:
  #     kind: VirtualMachine
  #     group: kubevirt.io
  #     labelSelector: "app=billing-frontend"